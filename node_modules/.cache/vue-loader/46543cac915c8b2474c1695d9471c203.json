{"remainingRequest":"/Users/bytedance/code/final-phrase-demo/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/bytedance/code/final-phrase-demo/src/components/bot/index.vue?vue&type=style&index=1&id=69c62daa&lang=less","dependencies":[{"path":"/Users/bytedance/code/final-phrase-demo/src/components/bot/index.vue","mtime":1720003919954},{"path":"/Users/bytedance/code/final-phrase-demo/node_modules/css-loader/dist/cjs.js","mtime":1720003916407},{"path":"/Users/bytedance/code/final-phrase-demo/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1720003919761},{"path":"/Users/bytedance/code/final-phrase-demo/node_modules/postcss-loader/src/index.js","mtime":1720003918676},{"path":"/Users/bytedance/code/final-phrase-demo/node_modules/less-loader/dist/cjs.js","mtime":1720003918196},{"path":"/Users/bytedance/code/final-phrase-demo/node_modules/cache-loader/dist/cjs.js","mtime":1720003915936},{"path":"/Users/bytedance/code/final-phrase-demo/node_modules/vue-loader-v16/dist/index.js","mtime":1720003919760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5yb2JvdC1kaWFsb2ctY29udGVudCB7CiAgICBtYXJnaW4tdG9wOiAzNXB4OwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDMxMHB4OwogICAgcGFkZGluZzogMTVweCAxMHB4IDEwcHg7CiAgICBvdmVyZmxvdy15OiBzY3JvbGw7CiAgICAuY29udGVudC1yZXZlcnNlLXdhcnAgewogICAgICAgIG1hcmdpbjogMCAwIDIwcHggNjVweCAhaW1wb3J0YW50OwogICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7CiAgICAgICAgLmNvbnRlbnQtYXZhdGFyIHsKICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDE1cHggIWltcG9ydGFudDsKICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDsKICAgICAgICB9CiAgICB9CiAgICAuY29udGVudC13YXJwIHsKICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gNjVweCk7CiAgICAgICAgbWFyZ2luOiAwIDY1cHggMjBweCAwOwogICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4OwogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgLmNvbnRlbnQtYXZhdGFyIHsKICAgICAgICAgICAgd2lkdGg6IDQwcHg7CiAgICAgICAgICAgIGhlaWdodDogNDBweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICBmbGV4LXNocmluazogMDsKICAgICAgICAgICAgcGFkZGluZzogMnB4IDAgMDsKICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxNXB4OwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwMWY7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgIHBhZGRpbmctdG9wOiA1cHg7CiAgICAgICAgICAgIGltZyB7CiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAuZGlhbG9ndWUtY29udGVudCB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDAgNHB4ICMwMDAwMDA1NzsKICAgICAgICB9CiAgICB9CiAgICAubG9hZGluZy1wb2ludCB7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICBhbGlnbi1pdGVtczogYmFzZWxpbmU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIH0KICAgIC5ib3VuY2UtZG90IHsKICAgICAgICB3aWR0aDogM3B4OwogICAgICAgIGhlaWdodDogM3B4OwogICAgICAgIG1hcmdpbjogMCAycHg7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMzsKICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgIGFuaW1hdGlvbjogYm91bmNlIDFzIGluZmluaXRlIGFsdGVybmF0ZTsKICAgIH0KCiAgICAuYm91bmNlLWRvdDpudGgtY2hpbGQoMikgewogICAgICAgIGFuaW1hdGlvbi1kZWxheTogMC4yNXM7IC8qIOiuqeesrOS6jOS4queCueeojeW+rui/n+S6juW8gOWniyAqLwogICAgfQoKICAgIC5ib3VuY2UtZG90Om50aC1jaGlsZCgzKSB7CiAgICAgICAgYW5pbWF0aW9uLWRlbGF5OiAwLjVzOyAvKiDorqnnrKzkuInkuKrngrnnqI3lvq7ov5/kuo7lvIDlp4sgKi8KICAgIH0KfQovKiDlm57nrZQgbG9hZGluZyDliqjnlLsgKi8KQGtleWZyYW1lcyBib3VuY2UgewogICAgMCUgewogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMCk7CiAgICB9CiAgICAxMDAlIHsKICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpOwogICAgfQp9Cg=="},{"version":3,"sources":["/Users/bytedance/code/final-phrase-demo/src/components/bot/index.vue"],"names":[],"mappings":"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","file":"/Users/bytedance/code/final-phrase-demo/src/components/bot/index.vue","sourceRoot":"","sourcesContent":["<!--\n * @Author: 777\n * @Date: 2024-03-29 15:41:44\n * @LastEditTime: 2024-05-19 10:43:07\n * @LastEditors: suqi04\n * @FilePath: /final-phrase-demo/src/components/bot/index.vue\n * @Description: 文件描述\n-->\n<template>\n    <div\n        class=\"bot-box\"\n        :style=\"{ bottom: bottom + 'px', right: right + 'px' }\"\n        @touchstart=\"dragStart\"\n        @mousedown=\"dragStart\"\n    >\n        <div class=\"fp-robot-box\">\n            <transition name=\"robot-transition\">\n                <div\n                    v-show=\"showRobotDialog\"\n                    :class=\"['robot-dialog', nowClass]\"\n                    @mousedown.stop\n                    @touchstart.stop\n                    @click.stop\n                >\n                    <div class=\"robot-dialog-title\">\n                        Final Phrase\n                        <span\n                            class=\"close-btn\"\n                            @click.stop=\"showRobotDialog = false\"\n                        >×</span>\n                    </div>\n                    <div\n                        ref=\"robotDialogContent\"\n                        id=\"robot-dialog-content\"\n                        class=\"robot-dialog-content\"\n                    >\n                        <div class=\"content-warp\">\n                            <div class=\"content-avatar\">\n                                <img\n                                    src=\"./Animation-bot.png\"\n                                    alt=\"\"\n                                />\n                            </div>\n                            <div class=\"dialogue-content\">\n                                你好，我是Final Phrase\n                                智能助理，我将根据您输入的问题，自动生成回答。\n                            </div>\n                        </div>\n                        <template\n                            v-for=\"(item, index) in localStorageHistoryList\"\n                            :key=\"index\"\n                        >\n                            <div class=\"content-warp content-reverse-warp\">\n                                <div class=\"dialogue-content\">\n                                    {{ item.question }}\n                                </div>\n                                <div class=\"content-avatar\">\n                                    <img\n                                        :src=\"userImageUrl\"\n                                        alt=\"\"\n                                    >\n                                </div>\n                            </div>\n                            <div class=\"content-warp\">\n                                <div class=\"content-avatar\">\n                                    <img\n                                        src=\"./Animation-bot.png\"\n                                        alt=\"\"\n                                    >\n                                </div>\n                                <div class=\"dialogue-content\">\n                                    {{ item.aiAnswer }}\n                                </div>\n                            </div>\n                        </template>\n                        <div id=\"scroll-to-bottom\"></div>\n                    </div>\n                    <div class=\"robot-dialog-buble\">\n                        <div class=\"buble-btn buble-help\">\n                            <el-icon>\n                                <Warning />\n                            </el-icon>\n                            <span style=\"margin-left: 3px\"> 帮助 </span>\n                        </div>\n                    </div>\n                    <div class=\"robot-dialog-footer\">\n                        <el-input\n                            v-model=\"inputText\"\n                            style=\"width: 100%; height: 100%\"\n                            type=\"textarea\"\n                            resize=\"none\"\n                            placeholder=\"请输入你的问题\"\n                            @keydown.enter=\"sendQuestion\"\n                        />\n                    </div>\n                </div>\n            </transition>\n            <img\n                src=\"./Animation-bot.gif\"\n                alt=\"\"\n                @click=\"clickHandle\"\n            />\n        </div>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, computed, onBeforeMount } from 'vue';\nimport { ElMessage } from 'element-plus';\nconst userImageUrl = require('./userImg.png');\nconst move = ref(false);\nconst longClickTimer = ref();\nconst bottom = ref(60);\nconst right = ref(40);\nconst appDom = document.querySelector('#app');\n\nconst inputText = ref('');\nconst aiAnswer = ref('');\nconst sendAble = ref();\nlet historyList = reactive([]);\nlet localStorageHistoryList = reactive([]);\nconst nowDia = reactive({\n    question: '',\n    aiAnswer: ''\n});\nfunction aiAnswerList(val: any) {\n    switch (true) {\n        case val.includes('你好'):\n            return getRandomElement([\n                '你好, 我是Final Phrase 智能助理, 有什么可以帮助你的吗?',\n                '你好, 我是Final Phrase 智能助理, 请问有什么我可以帮助你的吗?',\n                '你好, 我是Final Phrase 智能助理, 请问有什么我可以回答你的问题吗?'\n            ]);\n        case val.includes('你是谁'):\n            return getRandomElement([\n                '我是Final Phrase 智能助理, 有什么我可以帮助你的吗?',\n                '我是Final Phrase 智能助理, 请问有什么我可以回答你的问题吗?'\n            ]);\n        case val.includes('你是机器人吗'):\n            return getRandomElement([\n                '是的, 咋啦, 撒事~',\n                '我是一个机器人, 有什么我可以帮助你的吗?'\n            ]);\n        case val.includes('你是怎么工作的'):\n            return getRandomElement([\n                '核心秘密不能瞎说',\n                '我是通过Final Phrase 智能助理平台进行训练的!'\n            ]);\n        case val.includes('你有什么功能'):\n            return getRandomElement([\n                '我可以回答你的问题, 还可以提供一些帮助信息!'\n            ]);\n        case val.includes('你有什么特点'):\n            return getRandomElement([\n                '我是一个智能机器人, 拥有强大的智能算法, 能够回答你的问题!'\n            ]);\n        default:\n            return getRandomElement([\n                '你问的挺难啊,俺回答不了',\n                '这个问题我暂时回答不了, 你可以再问我其他问题!'\n            ]);\n    }\n}\n\nfunction getRandomElement(arr: any) {\n    return arr[Math.floor(Math.random() * arr.length)];\n}\nlet userDomStr = computed(\n    () =>\n        `<div class=\"content-warp content-reverse-warp\">\n                            <div class=\"dialogue-content\">\n                                ${inputText.value}\n                            </div>\n                            <div class=\"content-avatar\">\n                                <img\n                                    src=\"${userImageUrl}\"\n                                    alt=\"\"\n                                >\n                            </div>\n                        </div>`\n);\nlet messageIndex = ref(0);\nlet aiDomStr = computed(\n    () => `<div class=\"content-warp\">\n                    <div class=\"content-avatar\">\n                        <img\n                            src=\"/static/img/Animation-bot.png\"\n                            alt=\"\"\n                        >\n                    </div>\n                    <div id=\"dialogue-content-${messageIndex.value}\" class=\"dialogue-content\">\n                        认真思考中\n                        <div class=\"loading-point\">\n                            <div class=\"bounce-dot\"></div>\n                            <div class=\"bounce-dot\"></div>\n                            <div class=\"bounce-dot\"></div>\n                        </div>\n                    </div>\n                </div>`\n);\nfunction sendQuestion() {\n    if (!inputText.value.trim()) {\n        ElMessage.warning('请输入你要询问的问题');\n        return;\n    }\n    if (!sendAble.value) {\n        ElMessage.warning('上个问题回答中请稍后...');\n        return;\n    }\n    sendAble.value = false;\n    nowDia.question = inputText.value;\n    const contentDom = document.querySelector('#robot-dialog-content');\n    const inputValueCopy = inputText.value;\n    if (contentDom) {\n        contentDom.insertAdjacentHTML('beforeend', userDomStr.value);\n        contentDom.insertAdjacentHTML('beforeend', aiDomStr.value);\n    }\n    setTimeout(() => {\n        inputText.value = '';\n    }, 100);\n    const aiContentDom = document.querySelector(\n        `#dialogue-content-${messageIndex.value}`\n    );\n    if (aiContentDom) {\n        aiContentDom.scrollIntoView();\n    }\n    setTimeout(() => {\n        if (aiContentDom) {\n            aiContentDom.innerHTML = aiAnswerList(inputValueCopy);\n            sendAble.value = true;\n            nowDia.aiAnswer = aiAnswerList(inputValueCopy);\n            historyList.push(JSON.stringify(nowDia));\n            localStorage.setItem('HISTORY_LIST', historyList.join('「,」'));\n\n            setTimeout(() => {\n                aiContentDom.scrollIntoView();\n            });\n            messageIndex.value++;\n        }\n    }, 2000);\n}\n\nfunction initHistory() {\n    try {\n        const localStorageHistoryValue = localStorage\n            .getItem('HISTORY_LIST')\n            ?.split('「,」');\n        localStorageHistoryList = localStorageHistoryValue.map(item => {\n            return JSON.parse(item);\n        });\n        historyList = JSON.parse(JSON.stringify(localStorageHistoryValue));\n    } catch (e) {\n        localStorageHistoryList = [];\n    }\n}\nconst showRobotDialog = ref(false);\nconst moveType = ref(false);\nconst robotDiaBox = reactive({\n    width: 400,\n    height: 500\n});\nconst nowClass = ref('top-left');\n\nfunction mouseLeave() {\n    moveType.value = true;\n}\n\nfunction dragStart(e: any) {\n    // const bodyWidth = document.body.clientWidth;\n    longClickTimer.value = setTimeout(() => {\n        // moveType.value = true;\n        document.addEventListener('mousemove', mouseMove);\n        document.addEventListener('mouseup', mouseUp);\n    }, 1000);\n}\n\nfunction mouseMove(e: any) {\n    if (!moveType.value) return;\n    showRobotDialog.value = false;\n    const bodyHeight = document.body.clientHeight;\n    const bodyWidth = document.body.clientWidth;\n    let y = bodyHeight - e.clientY;\n    let x = bodyWidth - e.clientX;\n    if (y < 0) {\n        y = 0;\n    } else if (y > document.body.clientHeight - 90) {\n        y = document.body.clientHeight - 90;\n    }\n\n    if (x < 0) {\n        x = 0;\n    } else if (x > bodyWidth) {\n        x = bodyWidth - 40;\n    }\n    let yClass = 'top';\n    let xClass = 'left';\n    switch (true) {\n        case e.y >= 540:\n            yClass = 'top';\n            break;\n        case bodyHeight - e.y > 540:\n            yClass = 'bottom';\n            break;\n    }\n    switch (true) {\n        case e.x >= 500:\n            xClass = 'left';\n            break;\n        case bodyWidth - e.x > 500:\n            xClass = 'right';\n            break;\n    }\n\n    nowClass.value = `${yClass}-${xClass}`;\n    right.value = x;\n    bottom.value = y;\n}\nfunction mouseUp(e: any) {\n    clearTimeout(longClickTimer.value);\n    moveType.value = false;\n    document.removeEventListener('mouseup', mouseUp);\n    document.removeEventListener('mousemove', mouseMove);\n}\n\nfunction clickHandle() {\n    setTimeout(() => {\n        showRobotDialog.value = !showRobotDialog.value;\n        setTimeout(() => {\n            document.querySelector('#scroll-to-bottom')?.scrollIntoView();\n        });\n    }, 100);\n}\nonBeforeMount(() => {\n    initHistory();\n});\n</script>\n\n<style>\n.top-left {\n    transform: translate(calc(-100% - 40px), calc(-100% - 40px));\n}\n.bottom-left {\n    transform: translate(calc(-100% - 40px), 40px);\n}\n\n.top-right {\n    transform: translate(40px, calc(-100% - 40px));\n}\n.bottom-right {\n    transform: translate(40px, 40px);\n}\n\n.robot-dialog-footer .el-textarea__inner {\n    height: 100%;\n    border-style: none;\n    box-shadow: none;\n}\n</style>\n<style lang=\"less\">\n.robot-dialog-content {\n    margin-top: 35px;\n    width: 100%;\n    height: 310px;\n    padding: 15px 10px 10px;\n    overflow-y: scroll;\n    .content-reverse-warp {\n        margin: 0 0 20px 65px !important;\n        justify-content: flex-end;\n        .content-avatar {\n            margin-left: 15px !important;\n            margin-right: 0 !important;\n            padding: 0 !important;\n        }\n    }\n    .content-warp {\n        width: calc(100% - 65px);\n        margin: 0 65px 20px 0;\n        line-height: 20px;\n        display: flex;\n        .content-avatar {\n            width: 40px;\n            height: 40px;\n            border-radius: 50%;\n            flex-shrink: 0;\n            padding: 2px 0 0;\n            margin-right: 15px;\n            border: 1px solid #0000001f;\n            overflow: hidden;\n            padding-top: 5px;\n            img {\n                width: 100%;\n            }\n        }\n        .dialogue-content {\n            margin-top: 10px;\n            padding: 10px;\n            border-radius: 10px;\n            font-size: 12px;\n            box-shadow: 0px 0 4px #00000057;\n        }\n    }\n    .loading-point {\n        display: flex;\n        justify-content: center;\n        align-items: baseline;\n        height: 100%;\n        display: inline-block;\n    }\n    .bounce-dot {\n        width: 3px;\n        height: 3px;\n        margin: 0 2px;\n        background-color: #333;\n        border-radius: 50%;\n        display: inline-block;\n        animation: bounce 1s infinite alternate;\n    }\n\n    .bounce-dot:nth-child(2) {\n        animation-delay: 0.25s; /* 让第二个点稍微迟于开始 */\n    }\n\n    .bounce-dot:nth-child(3) {\n        animation-delay: 0.5s; /* 让第三个点稍微迟于开始 */\n    }\n}\n/* 回答 loading 动画 */\n@keyframes bounce {\n    0% {\n        transform: scale(0);\n    }\n    100% {\n        transform: scale(1);\n    }\n}\n</style>\n<style lang=\"less\" scoped>\n.robot-transition {\n    &-leave-to,\n    &-enter {\n        opacity: 0.4;\n    }\n    &-leave,\n    &-enter-to {\n        opacity: 1;\n    }\n\n    &-leave-active,\n    &-enter-active {\n        transition: opacity 0.2s;\n    }\n}\n.bot-box {\n    position: fixed;\n    bottom: 60px;\n    right: 40px;\n    width: 80px;\n    height: 80px;\n    z-index: 999999;\n    .fp-robot-box {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        .robot-dialog {\n            position: absolute;\n            left: 50%;\n            top: 50%;\n            width: 400px;\n            height: 450px;\n            background-color: #fff;\n            border-radius: 5px;\n            box-shadow: 0 0px 7px 1px #4101233b;\n            overflow: hidden;\n            &-title {\n                position: absolute;\n                top: 0;\n                left: 0;\n                z-index: 2;\n                width: 100%;\n                height: 40px;\n                padding: 10px;\n                font-size: 18px;\n                font-weight: bold;\n                text-align: center;\n                background: #fff;\n                box-shadow: 0 2px 4px 0px #0000000d;\n                .close-btn {\n                    position: absolute;\n                    top: 50%;\n                    right: 0;\n                    font-size: 18px;\n                    user-select: none;\n                    cursor: pointer;\n                    font-weight: normal;\n                    color: #505050;\n                    transform: translate(-20px, -50%);\n                }\n            }\n            &-content {\n                margin-top: 35px;\n                width: 100%;\n                height: 310px;\n                padding: 15px 10px 10px;\n                overflow-y: scroll;\n                .content-reverse-warp {\n                    margin: 0 0 20px 65px !important;\n                    .content-avatar {\n                        margin-left: 15px !important;\n                        margin-right: 0 !important;\n                    }\n                }\n                .content-warp {\n                    width: calc(100% - 65px);\n                    margin: 0 65px 20px 0;\n                    line-height: 20px;\n                    display: flex;\n                    .content-avatar {\n                        width: 40px;\n                        height: 40px;\n                        border-radius: 50%;\n                        flex-shrink: 0;\n                        padding: 2px 0 0;\n                        margin-right: 15px;\n                        border: 1px solid #0000001f;\n                        overflow: hidden;\n                        padding-top: 5px;\n                        img {\n                            width: 100%;\n                        }\n                    }\n                    .dialogue-content {\n                        margin-top: 10px;\n                        padding: 10px;\n                        border-radius: 10px;\n                        font-size: 12px;\n                        box-shadow: 0px 0 4px #00000057;\n                    }\n                }\n            }\n            &-buble::-webkit-scrollbar,\n            &-content::-webkit-scrollbar {\n                display: none;\n            }\n            &-buble {\n                width: 100%;\n                height: 35px;\n                overflow-x: scroll;\n                padding: 5px 10px;\n                font-size: 12px;\n                .buble-btn {\n                    height: 100%;\n                    display: inline-flex;\n                    align-items: center;\n                    padding: 0 5px;\n                    justify-content: center;\n                    cursor: pointer;\n                    border-radius: 5px;\n                    box-shadow: 0 0 #f00;\n                    background: #f2f7ff;\n                    color: #3a5bfd;\n                    letter-spacing: 1px;\n                    &:hover {\n                        background-color: #f5f5f5;\n                    }\n                }\n            }\n            &-footer {\n                position: absolute;\n                bottom: 0;\n                left: 0;\n                box-sizing: border-box;\n                width: 100%;\n                height: 70px;\n                padding: 5px 5px 10px;\n                box-shadow: 0 -2px 4px 0px #0000000d;\n            }\n        }\n    }\n    img {\n        width: 100%;\n        cursor: pointer;\n    }\n}\n</style>\n"]}]}