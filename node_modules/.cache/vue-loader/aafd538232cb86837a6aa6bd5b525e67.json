{"remainingRequest":"/Users/suqi04/baidu/baidu/final-phrase-demo/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/suqi04/baidu/baidu/final-phrase-demo/src/views/home-page/index.vue?vue&type=style&index=3&id=0612ffd6&lang=less&scoped=true","dependencies":[{"path":"/Users/suqi04/baidu/baidu/final-phrase-demo/src/views/home-page/index.vue","mtime":1714267404693},{"path":"/Users/suqi04/baidu/baidu/final-phrase-demo/node_modules/css-loader/dist/cjs.js","mtime":1711627299054},{"path":"/Users/suqi04/baidu/baidu/final-phrase-demo/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1711627299426},{"path":"/Users/suqi04/baidu/baidu/final-phrase-demo/node_modules/postcss-loader/src/index.js","mtime":1711627299184},{"path":"/Users/suqi04/baidu/baidu/final-phrase-demo/node_modules/less-loader/dist/cjs.js","mtime":1711627299124},{"path":"/Users/suqi04/baidu/baidu/final-phrase-demo/node_modules/cache-loader/dist/cjs.js","mtime":1711627298830},{"path":"/Users/suqi04/baidu/baidu/final-phrase-demo/node_modules/vue-loader-v16/dist/index.js","mtime":1711627299184}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5idG4gewogICAgbWFyZ2luOiAwIDVweDsKfQo="},{"version":3,"sources":["/Users/suqi04/baidu/baidu/final-phrase-demo/src/views/home-page/index.vue"],"names":[],"mappings":";AAogBA,CAAC,CAAC,CAAC,EAAE;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;AACjB","file":"/Users/suqi04/baidu/baidu/final-phrase-demo/src/views/home-page/index.vue","sourceRoot":"","sourcesContent":["<!--\n * @Author: 777\n * @Date: 2024-03-20 19:27:42\n * @LastEditTime: 2024-03-28 12:46:04\n * @LastEditors: 777\n * @FilePath: /final-phrase-demo/src/views/home-page/index.vue\n * @Description: 文件描述\n-->\n<template>\n    <div class=\"home-page\">\n        <video\n            autoplay\n            loop\n            muted\n            playsinline\n            class=\"fill-background\"\n        >\n            <source\n                src=\"./homePageVideo.mp4\"\n                type=\"video/mp4\"\n            />\n            Your browser does not support the video tag.\n        </video>\n        <div class=\"home-page-box\">\n            <div class=\"home-page-header\">\n                <Header v-if=\"userInfo.account\"></Header>\n                <el-button\n                    v-else\n                    type=\"primary\"\n                    class=\"start-create-btn login-btn\"\n                ><span\n                        @click=\"ShowLoaginDialog = true\"\n                        class=\"btn\"\n                    >登陆</span>\n                    |\n                    <span\n                        @click=\"$router.push('/register')\"\n                        class=\"btn\"\n                    >注册</span></el-button>\n            </div>\n            <div class=\"home-page-name\">\n                <span>Final</span>\n                <span>Phrase</span>\n            </div>\n            <p class=\"home-page-alrent\">\n                {{ text[0] }}\n                <span style=\"color: #d96868\">\n                    {{ text[1] }}\n                </span>\n                {{ text[2] }}\n            </p>\n            <div class=\"home-page-control\">\n                <span>\n                    <el-button\n                        type=\"primary\"\n                        class=\"start-create-btn\"\n                        @click=\"startCreation\"\n                    >开始创作</el-button>\n                    <el-link\n                        type=\"primary\"\n                        class=\"start-create-btn margin-btn\"\n                        href=\"/introduction\"\n                        target=\"_blank\"\n                    >了解更多</el-link>\n                </span>\n            </div>\n        </div>\n        <el-dialog\n            v-model=\"ShowLoaginDialog\"\n            class=\"login-dialog\"\n            width=\"350px\"\n        >\n            <template #title>\n                <div class=\"login-dialog-title\">\n                    <img\n                        src=\"../../assets/images/logo.png\"\n                        alt=\"\"\n                    />\n                </div>\n            </template>\n            <div class=\"login-dialog-type\">\n                <span\n                    :class=\"[\n                        'text-btn',\n                        loginType === 'password' ? 'text-btn-active' : ''\n                    ]\"\n                    @click=\"loginType = 'password'\"\n                >密码登陆</span>\n                <span\n                    :class=\"[\n                        'text-btn',\n                        loginType === 'captcha' ? 'text-btn-active' : ''\n                    ]\"\n                    @click=\"loginType = 'captcha'\"\n                >验证码登陆</span>\n            </div>\n            <div class=\"login-dialog-form\">\n                <el-form\n                    ref=\"loginRuleFormRef\"\n                    :model=\"loginParams\"\n                    label-width=\"auto\"\n                    :rules=\"rules\"\n                    size=\"large\"\n                >\n                    <el-form-item prop=\"account\">\n                        <el-input\n                            v-model=\"loginParams.account\"\n                            placeholder=\"手机号\"\n                        />\n                    </el-form-item>\n                    <el-form-item\n                        v-if=\"loginType === 'password'\"\n                        prop=\"password\"\n                    >\n                        <el-input\n                            v-model=\"loginParams.password\"\n                            placeholder=\"密码\"\n                        />\n                    </el-form-item>\n                    <el-form-item\n                        v-else\n                        prop=\"password\"\n                    >\n                        <el-input\n                            v-model=\"loginParams.password\"\n                            placeholder=\"验证码\"\n                            autocomplete=\"off\"\n                        >\n                            <template #append>\n                                <span\n                                    @click=\"getVerificationCode\"\n                                    class=\"form-text-btn\"\n                                >\n                                    {{\n                                    verificationTime\n                                        ? verificationTime + 's'\n                                        : '获取验证码'\n                                }}\n                                </span>\n                            </template>\n                        </el-input>\n                    </el-form-item>\n                    <el-form-item>\n                        <div class=\"login-control\">\n                            <template v-if=\"loginType === 'password'\">\n                                <el-checkbox v-model=\"saveLoginPassword\">\n                                    <span class=\"text-btn-hover\">记住密码</span>\n                                </el-checkbox>\n\n                                <!-- <span class=\"text-btn-hover\">忘记密码</span> -->\n                                <span\n                                    @click=\"$router.push('/register')\"\n                                    class=\"text-btn-hover\"\n                                >账号注册</span>\n                            </template>\n                        </div>\n                        <el-button\n                            type=\"primary\"\n                            class=\"login-commit-btn\"\n                            @click=\"login(loginRuleFormRef)\"\n                        >登 陆</el-button>\n                    </el-form-item>\n                </el-form>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Header from '@/components/Header/index.vue';\n\nimport type { FormInstance, FormRules } from 'element-plus';\n\nimport AppUserInfo from '@/store/userInfo';\nconst { userInfo } = AppUserInfo();\n\nimport { ElMessage } from 'element-plus';\nimport { getUserInfo } from '@/api/index';\n\nimport { ref, reactive, watch, onMounted } from 'vue';\nimport SQLTest from '@/store/SqlTest';\nconst { userLoginSql } = SQLTest();\n\nimport AppDomConfig from '@/store/fullSituation';\nconst { ShowLoaginDialog } = AppDomConfig();\n\nimport { useRouter, useRoute } from 'vue-router';\nconst $router = useRouter();\nconst $route = useRoute();\n\nconsole.log($route.query.type);\n$route.query.type && (ShowLoaginDialog.value = true);\n\nconst phoneNumberRegex = /^1[3-9]\\d{9}$/; // 手机号效验正则\n\nconst loginRuleFormRef = ref<FormInstance>();\n\nlet text = reactive([\n    '「我们不能创造',\n    '100分',\n    '的脚本,因为我们需要你的画龙点睛」'\n]);\n\n// 登陆弹窗\nconst loginType = ref('password');\n\nwatch(loginType, () => {\n    loginParams.password = '';\n});\nconst loginParams = reactive({\n    account: '',\n    password: ''\n});\n\nconst rules = reactive<FormRules<typeof loginParams>>({\n    account: [\n        {\n            validator: (rule: any, value: any, callback: any) => {\n                if (value === '') {\n                    callback(new Error('请输入手机号'));\n                } else {\n                    if (\n                        loginParams.account !== '' &&\n                        !phoneNumberRegex.test(loginParams.account)\n                    ) {\n                        callback(new Error('请输入正确格式的手机号'));\n                    }\n                    callback();\n                }\n            },\n            trigger: 'blur'\n        }\n    ],\n    password: [\n        {\n            validator: (rule: any, value: any, callback: any) => {\n                if (value === '') {\n                    callback(\n                        new Error(\n                            `${\n                                loginType.value === 'password'\n                                    ? '密码'\n                                    : '验证码'\n                            }不能为空`\n                        )\n                    );\n                }\n                callback();\n            },\n            trigger: 'blur'\n        }\n    ]\n});\nconst saveLoginPassword = ref(false);\n\nconst handleClose = (done: () => void) => {};\n\nconst verificationTime = ref(0);\nconst getVerificationCode = () => {\n    if (loginParams.account === '') {\n        ElMessage.warning('请输入手机号！');\n        return;\n    }\n    if (verificationTime.value > 0) {\n        return;\n    }\n    verificationTime.value = 60;\n    const timer = setInterval(() => {\n        verificationTime.value--;\n        if (verificationTime.value <= 0) {\n            clearInterval(timer);\n        }\n    }, 1000);\n    ElMessage.success('验证码已发送，请注意查收！');\n};\nfunction login(formEl: FormInstance | undefined) {\n    if (!formEl) {\n        return;\n    }\n    formEl.validate(valid => {\n        if (valid) {\n            const infos = userLoginSql.filter(\n                item => item.account === loginParams.account\n            );\n            if (infos.length <= 0) {\n                ElMessage.error('账号未注册！');\n                return;\n            } else {\n                if (infos[0].password !== loginParams.password) {\n                    ElMessage.error('密码错误！');\n                    return;\n                }\n            }\n\n            // getUserInfo().then(data => {\n            //     userInfo.name = data.name;\n            //     ShowLoaginDialog.value = false;\n            // });\n            userInfo.account = loginParams.account;\n            ShowLoaginDialog.value = false;\n        } else {\n            console.log('error submit!');\n            return false;\n        }\n    });\n}\n\nfunction startCreation() {\n    if (!userInfo.account) {\n        ShowLoaginDialog.value = true;\n        return;\n    } else {\n        $router.push('/creation');\n    }\n}\n\nonMounted(() => {\n    // inputAlrent();\n});\n</script>\n\n<style scoped>\n.home-page {\n    min-height: max(100vh, 735px);\n}\n.home-page .home-page-name {\n    font-size: min(150px, max(10vw, 110px));\n}\n.home-page .home-page-alrent {\n    font-size: min(35px, max(3.1vw, 25px));\n    letter-spacing: 2px;\n}\n.home-page-name span:last-child {\n    /* margin-left: min(50px, max(35px, 5vw)); */\n}\n.margin-btn {\n    margin-left: min(200px, max(13vw, 150px)) !important;\n}\n.start-create-btn {\n    font-size: min(20px, max(1.5vw, 17px));\n    width: min(200px, max(13vw, 150px));\n}\n</style>\n\n<style lang=\"less\" scoped>\n@import '../../style/index.less';\n.home-page {\n    width: 100%;\n    height: 100%;\n    min-width: @ScreenMinWidth;\n    position: relative;\n    box-sizing: border-box;\n    // background: linear-gradient(to bottom, #f2f3f7, #9cc6fcd8);\n    background: @BackgroundColorImg;\n    position: relative; /* 相对定位 */\n    width: 100%; /* 视频宽度 */\n    height: 100vh; /* 视频高度 */\n    overflow: hidden; /* 隐藏溢出的视频部分 */\n    color: @TextColor;\n\n    .start-create-btn {\n        height: 50px;\n        // width: 200px;\n        color: #fff;\n        border-radius: 20px;\n        font-weight: bold;\n        letter-spacing: 2px;\n        // font-size: 20px;\n        background-image: radial-gradient(#0066fff0, transparent);\n    }\n\n    .home-page-box {\n        width: 100%;\n        height: 100%;\n        position: relative;\n        box-sizing: border-box;\n    }\n    .fill-background {\n        width: 100%; /* 视频宽度 */\n        height: 100%; /* 视频高度 */\n        object-fit: cover; /* 视频填充 */\n        position: absolute; /* 绝对定位 */\n        top: 0;\n        left: 0;\n        // z-index: -1;\n    }\n    &-header {\n        box-sizing: border-box;\n        height: 50px;\n        width: 100%;\n        line-height: 50px;\n        padding: 0 20px;\n        text-align: right;\n        // background-color: #fff;\n        .login-btn {\n            height: 30px;\n            width: 120px;\n            font-size: 14px;\n        }\n    }\n    @font-face {\n        font-family: 'Archivo Narrow';\n        src: url('https://fonts.googleapis.com/css2?family=Archivo+Narrow&display=swap');\n    }\n    &-name {\n        font-weight: 600;\n        height: 40vh;\n        min-height: 210px;\n        line-height: 40vh;\n        text-align: center;\n        overflow: hidden;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        span {\n            display: block;\n            transform: scale(0.8, 1.4);\n            text-shadow: 0px 18px 16px #00000040;\n        }\n    }\n    &-alrent {\n        font-family: 'Noto Sans SC';\n        text-align: center;\n        font-size: 35px;\n        color: #666;\n        font-weight: 1000;\n    }\n    &-control {\n        position: relative;\n        box-sizing: border-box;\n        height: 200px;\n        width: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        .start-create-btn:last-child {\n            background-image: none;\n            background-color: transparent;\n            border: 3px solid #0084ff8e;\n            color: #666;\n            background-color: #ffffff6b;\n        }\n        .start-create-btn:hover {\n            box-shadow: 0px 3px 8px 0px #fc4d6d43;\n        }\n    }\n}\n</style>\n\n<style lang=\"less\">\n@import '../../style/index.less';\n.login-dialog {\n    border-radius: 10px !important;\n    .el-dialog__body {\n        padding: 0 10px;\n    }\n    .el-form-item {\n        margin-bottom: 30px;\n        .el-input-group__append {\n            background-color: transparent !important;\n        }\n        .form-text-btn {\n            cursor: pointer;\n            color: #4096ef;\n            font-weight: 600;\n        }\n        .login-control {\n            width: 100%;\n            height: 25px;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            margin-bottom: 5px;\n            .text-btn-hover {\n                color: #595959;\n                font-weight: normal;\n                font-size: 12px;\n            }\n            .text-btn-hover:hover {\n                cursor: pointer;\n            }\n        }\n        .login-commit-btn {\n            width: 100%;\n            letter-spacing: 5px;\n        }\n    }\n    &-title {\n        height: 25px;\n        img {\n            height: 100%;\n        }\n    }\n    &-type {\n        margin: 15px 0 30px !important;\n        height: 30px;\n        display: flex;\n        align-items: center;\n        justify-content: space-evenly;\n        font-size: @FontSizeSmall;\n        font-weight: 700;\n        .text-btn {\n            user-select: none;\n            cursor: pointer;\n            padding-bottom: 5px;\n            margin-bottom: 2px;\n        }\n        .text-btn-active {\n            border-bottom: 2px solid #4096ef;\n            color: #4096ef;\n            margin-bottom: 0;\n        }\n    }\n}\n</style>\n<style lang=\"less\" scoped>\n.btn {\n    margin: 0 5px;\n}\n</style>\n"]}]}