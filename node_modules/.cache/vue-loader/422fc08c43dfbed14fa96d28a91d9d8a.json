{"remainingRequest":"/Users/bytedance/code/final-phrase-demo/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/bytedance/code/final-phrase-demo/src/views/creation/index.vue?vue&type=style&index=0&id=c0422588&lang=less","dependencies":[{"path":"/Users/bytedance/code/final-phrase-demo/src/views/creation/index.vue","mtime":1720003920035},{"path":"/Users/bytedance/code/final-phrase-demo/node_modules/css-loader/dist/cjs.js","mtime":1720003916407},{"path":"/Users/bytedance/code/final-phrase-demo/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1720003919761},{"path":"/Users/bytedance/code/final-phrase-demo/node_modules/postcss-loader/src/index.js","mtime":1720003918676},{"path":"/Users/bytedance/code/final-phrase-demo/node_modules/less-loader/dist/cjs.js","mtime":1720003918196},{"path":"/Users/bytedance/code/final-phrase-demo/node_modules/cache-loader/dist/cjs.js","mtime":1720003915936},{"path":"/Users/bytedance/code/final-phrase-demo/node_modules/vue-loader-v16/dist/index.js","mtime":1720003919760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jcmVhdGlvbiB7CiAgICAuZWwtc2VsZWN0X193cmFwcGVyIHsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7CiAgICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7CiAgICB9CiAgICAuZWwtY2Fyb3VzZWwgewogICAgICAgIHBhZGRpbmctYm90dG9tOiA3MHB4OwogICAgfQogICAgLmVsLWNhcm91c2VsX19pbmRpY2F0b3JzLS1ob3Jpem9udGFsIHsKICAgICAgICBib3R0b206IDcwcHg7CiAgICB9CiAgICAuaXMtYWN0aXZlIHsKICAgICAgICBvdmVyZmxvdzogdW5zZXQ7CiAgICB9CiAgICAuZWwtY2Fyb3VzZWxfX2Fycm93IHsKICAgICAgICB0b3A6IGNhbGMoNTAlIC0gMzVweCk7CiAgICB9CiAgICAuc3dpcGVyLWl0ZW0tY29udGVudCB7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgfQogICAgLmVsLWNhcm91c2VsX19tYXNrIHsKICAgICAgICBiYWNrZ3JvdW5kOiBub25lICFpbXBvcnRhbnQ7CiAgICB9Cn0K"},{"version":3,"sources":["/Users/bytedance/code/final-phrase-demo/src/views/creation/index.vue"],"names":[],"mappings":"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","file":"/Users/bytedance/code/final-phrase-demo/src/views/creation/index.vue","sourceRoot":"","sourcesContent":["<template>\n    <div class=\"creation\">\n        <div class=\"input-box\">\n            <el-select\n                v-model=\"swiperSelectValue\"\n                clearable\n                filterable\n                placeholder=\"请选择你想创作的文本内容类型\"\n                style=\"width: 30%;height: 100%\"\n                @change=\"swiperSelectValueChange\"\n            >\n                <el-option\n                    v-for=\"(item, index) in scriptTypeList\"\n                    :key=\"item.type\"\n                    :label=\"item.name\"\n                    :value=\"index\"\n                    :disabled=\"item.disablea\"\n                />\n            </el-select>\n            <div\n                class=\"next-btn\"\n                style=\"color: #4096ef\"\n                @click=\"nextPath\"\n            >下一步</div>\n            <!-- <el-button\n                class=\"next-btn\"\n                style=\"color: #4096ef\"\n            >下一步</el-button> -->\n            <!-- <el-input\n                v-model=\"input3\"\n                style=\"max-width: 600px\"\n                placeholder=\"请选择你想创作的文本内容类型\"\n                class=\"input-with-select\"\n            >\n            </el-input> -->\n        </div>\n        <div\n            ref=\"swiperSelect\"\n            class=\"swiper-select\"\n        >\n            <el-carousel\n                ref=\"elSwiper\"\n                :interval=\"4000\"\n                :autoplay=\"false\"\n                :height=\"domeHeight\"\n                type=\"card\"\n                @change=\"swiperChange\"\n            >\n                <el-carousel-item\n                    v-for=\"item in scriptTypeList\"\n                    :key=\"item.type\"\n                    :initial-index=\"item.type\"\n                >\n                    <div class=\"swiper-item-content\">\n                        <div class=\"type-text\">\n                            {{ item.name }}\n\n                        </div>\n                        <video\n                            :id=\"`video-${item.type}`\"\n                            class=\"fill-background\"\n                            :style=\"{\n                            height: `calc(${domeHeight} - 30px)`\n                        }\"\n                            muted\n                            playsinline\n                            controls\n                        >\n                            <source\n                                :src=\"item.src\"\n                                type=\"video/mp4\"\n                            >\n                        </video>\n                        <div\n                            class=\"type-text\"\n                            style=\"margin-top: 15px;\"\n                        >\n                            <el-button\n                                type=\"primary\"\n                                :disabled=\"item.disablea\"\n                                @click=\"startCreation(item.name)\"\n                            >\n                                {{item.disablea ? '暂未开放' : '开始创作'}}\n                            </el-button>\n                        </div>\n                    </div>\n                </el-carousel-item>\n            </el-carousel>\n        </div>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, onMounted, onBeforeMount } from 'vue';\nimport { useRouter } from 'vue-router';\nimport paramsStore from '@/store/paramsStore';\nimport { ElMessage } from 'element-plus';\nconst router = useRouter();\n\nconst { creationFormParams } = paramsStore();\n\nconst swiperSelectValue = ref();\nconst elSwiper = ref(null);\n\nfunction swiperSelectValueChange(val: Number) {\n    const i = parseInt(val, 10);\n    creationFormParams.scriptType = scriptTypeList[i].name;\n    elSwiper.value.setActiveItem(i);\n}\n\nconst scriptTypeList = reactive([\n    {\n        type: 'movie',\n        name: '电影',\n        disablea: false,\n        src: require('./assets/电影.mp4')\n    },\n    {\n        type: 'TVPlay',\n        name: '电视剧',\n        disablea: true,\n        src: require('./assets/电视剧.mp4')\n    },\n    {\n        type: 'ShortPlay',\n        name: '短剧',\n        disablea: true,\n        src: require('./assets/短剧.mp4')\n    },\n    {\n        type: 'ShortVideo',\n        name: '短视频',\n        disablea: true,\n        src: require('./assets/短视频.mp4')\n    },\n    {\n        type: 'OnlineArticles',\n        name: '网络文章',\n        disablea: true,\n        src: require('./assets/网络文章.mp4')\n    },\n    {\n        type: 'OnlineNovels',\n        name: '网络小说',\n        disablea: true,\n        src: require('./assets/网络小说.mp4')\n    }\n]);\n\nfunction startCreation(scriptType: any) {\n    creationFormParams.scriptType = scriptType;\n    nextPath();\n}\n\nfunction nextPath() {\n    if (creationFormParams.scriptType) {\n        creationFormParams.agruements = {};\n        router.push({\n            path: '/creation/form'\n        });\n    } else {\n        ElMessage({\n            message: '请选择电影类型!',\n            type: 'warning'\n        });\n    }\n}\n\nconst swiperSelect = ref();\nconst domeHeight = ref('275px');\nlet setTimeoutTimer = null;\n\nfunction swiperChange(index: String) {\n    const i = parseInt(index, 10);\n    const nowDomeVideo = document.querySelector(\n        `#video-${scriptTypeList[i].type}`\n    );\n    scriptTypeList.forEach((item, index) => {\n        console.log(document.querySelector(`#video-${item.type}`));\n        const domeVideo = document.querySelector(`#video-${item.type}`);\n        if (domeVideo) {\n            domeVideo.currentTime = 0;\n            domeVideo.pause();\n        }\n    });\n    setTimeoutTimer = setTimeout(() => {\n        if (nowDomeVideo) {\n            nowDomeVideo.play();\n        }\n    });\n}\n\nfunction initDomeOnSize() {\n    const whPercent = 960 / 540;\n    const clientHeight = swiperSelect.value.clientHeight;\n    const swiperWidth = swiperSelect.value.clientHeight * whPercent;\n    const swiperHeight = (swiperSelect.value.clientWidth * 0.5) / whPercent;\n    domeHeight.value = `${\n        clientHeight > swiperHeight ? swiperHeight : clientHeight\n    }px`;\n    const dom = document.querySelectorAll(\n        '.swiper-select .el-carousel__container'\n    );\n    if (dom && dom.length > 0) {\n        dom[0].style.height = `${\n            clientHeight > swiperHeight ? swiperHeight : clientHeight\n        }px`;\n    }\n\n    console.log(clientHeight, swiperHeight, dom);\n}\n\nonBeforeMount(() => {\n    for (let i in scriptTypeList) {\n        const item = scriptTypeList[i];\n        if (item.name === creationFormParams.scriptType) {\n            swiperSelectValue.value = parseInt(i, 10);\n        }\n    }\n});\nonMounted(() => {\n    initDomeOnSize();\n    window.onresize = initDomeOnSize;\n});\n</script>\n\n<style lang=\"less\">\n.creation {\n    .el-select__wrapper {\n        width: 100%;\n        height: 100%;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n    .el-carousel {\n        padding-bottom: 70px;\n    }\n    .el-carousel__indicators--horizontal {\n        bottom: 70px;\n    }\n    .is-active {\n        overflow: unset;\n    }\n    .el-carousel__arrow {\n        top: calc(50% - 35px);\n    }\n    .swiper-item-content {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n    .el-carousel__mask {\n        background: none !important;\n    }\n}\n</style>\n<style lang=\"less\" scoped>\n@import '../../style/index.less';\n.creation {\n    position: relative;\n    width: 100%;\n    height: calc(100vh - @HeaderHeight);\n    padding: 20px 25px;\n    .input-box {\n        display: flex;\n        width: 100%;\n        height: 40px;\n        align-items: center;\n        justify-content: flex-start;\n        line-height: 38px;\n        .el-select {\n            width: 30%;\n            min-width: 500px;\n            height: 100%;\n        }\n        .next-btn {\n            user-select: none;\n            cursor: pointer;\n            height: 100%;\n            border: 1px solid #dddfe6;\n            border-left: none;\n            border-top-left-radius: 0;\n            border-bottom-left-radius: 0;\n            padding: 0 15px;\n            // border-style: none;\n            margin-left: -1px;\n            background-color: #ffffff80;\n        }\n    }\n    .swiper-select {\n        margin-top: 50px;\n        width: 100%;\n        height: calc(95% - 70px);\n        .type-text {\n            height: 30px;\n            text-align: center;\n            line-height: 30px;\n            font-size: 18px;\n            letter-spacing: 2px;\n            font-weight: 500;\n        }\n        video {\n            height: calc(100% - 30px);\n        }\n        .next-btn-swiper {\n            height: 50px;\n            padding-bottom: 15px;\n        }\n    }\n}\n</style>\n"]}]}